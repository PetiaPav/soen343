{% extends 'layout.html' %}

{% block body %}

{% from "includes/_form_helpers.html" import render_field %}
<form method="POST" action="/cart">
    <div class="row m-0">
        <div class="col-sm-9">
            <h4>My Cart</h4>
        </div>
    </div>
    <br/>
    <table class="table table-hover table-bordered">
        <thead>
        <tr>
            <th>Item Type</th>
            <th>Title</th>
            <th>View Details</th>
            <th>Status</th>
            <th>Select</th>
            <th>Remove</th>
        </tr>
        </thead>
        <tbody>
        {% for physical_item, spec_item in cart %}
            <tr>
                <td><center>
                    {% if physical_item.prefix == "bb" %}
                        Book
                    {% elif physical_item.prefix == "ma" %}
                        Magazine
                    {% elif physical_item.prefix == "mu" %}
                        Music
                    {% elif physical_item.prefix == "mo" %}
                        Movie
                    {% endif %}
                </center></td>
                <td>{{spec_item.title}}</td>
                <td><center>Info</center></td>
                <td><center>{{physical_item.status}}</center></td>
                <td><center><input type="checkbox" class="loan" name={{physical_item.prefix}}{{physical_item.item_fk}} value={{physical_item.id}}></center></td>
                <td><center> <button type="button" class="btn btn-remove-from-cart">Remove From Cart</button></center></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="row m-0">
       <!-- <div class="col-sm-9">
            <img src="/static/presentation/img/my_cart.png">
        </div> -->
        <div class="col-sm-3">
            <input id="submit" class="form-control btn btn-primary float-right" type="submit" value="Loan Selected Items">
        </div>
    </div>
</form>

<!-- This script should not be called from an external js file -->
<script>
    $(document).ready( function () {
        $('table').DataTable({
            "orderClasses": false,
            "paging": false,
            "searching": false
        });
    } );
</script>

<script src="../static/presentation/js/return_items.js"></script>

{% endblock %}